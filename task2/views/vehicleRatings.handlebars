<div class="container">
  <form action="/search">
    <input class="btn btn-dark" type="submit" value="Go Back"/>
  </form>
  <table class="table">
    <thead>
      <th>#</th>
      <th>Vehicle Name</th>
      <th>Vehicle Score</th>
      <th>Supplier Rating</th>
      <th>Sum of scores</th>
    </thead>
    <tbody>
    </tbody>
  </table>
</div>

<script>
// take the string from handlebars
let dataStr = "{{dataStr}}";

// parse it and put in the correct quotes
let jsObj = JSON.parse(dataStr.replace(/&quot;/g,'"'));

// get the list
let carsList = jsObj.carsList;

// get the table
let tbody = document.getElementsByTagName('tbody')[0];

// populate the table
for (let i = 0; i < carsList.length; i++)
{
  let tr = document.createElement('tr');

  let td_num = document.createElement('td');
  let td_name = document.createElement('td');
  let td_score = document.createElement('td');
  let td_rating = document.createElement('td');
  let td_overall = document.createElement('td');

  td_num.innerHTML = carsList[i].number;
  td_name.innerHTML = carsList[i].name;
  td_score.innerHTML = carsList[i].score;
  td_rating.innerHTML = carsList[i].rating;
  td_overall.innerHTML = carsList[i].overall;

  tr.appendChild(td_num);
  tr.appendChild(td_name);
  tr.appendChild(td_score);
  tr.appendChild(td_rating);
  tr.appendChild(td_overall);

  tbody.appendChild(tr);
}
</script>
